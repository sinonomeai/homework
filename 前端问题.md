# 边界塌陷

## 同时给兄弟/父子元素设定上下边距，理论是两者之和，实际显示只有一半

**_浮动和定位并不会发生塌陷_**

**_只有块级元素垂直方向上才会产生 margin 合并_**

## margin 同为负数或正数取绝对值最大的；margin 一正一负就取和

## 对于父子元素边界塌陷（当给子元素设置外边距时父子共用边距相当于单独给父元素设置外边距）

**_父元素：1.调整内边距 2.overflow：hidden_**

**（触发 bfc “float 不为 none
overflow 不为 visible（常用 overflow:hidden）
position 为 fixed，absolute
display 为 flex，inline-block，table-cell” **

**_使其被看作一个隔离元素，不影响其他元素）_**

**_子元素：1.display：inline-block 2.overflow：hidden 3.float 和 position_**

# 布局

## float 布局基本被淘汰

## flex

### 适用范围：线性布局

### 容器属性

flex-direction;

flex-wrap;

flex-flow(flex-flow:<flex-direction> <flex-wrap>);

justify-content：

![jc](img/justify-content.png)

**space-evenly(包含容器取各项目间距相等)**

align-items;

![](./img/ai.png)

align-content（定义多行项目在交叉轴的对齐方式）

### 项目属性

order:1/2/3 定义项目排序顺序

align-selfs:（类似 align-items,但只对单个项目生效）

flex: flex-grow flex-shrink flex-basis

## grid

### 适用范围：

二维布局

### 核心：

**先创建网格再填入项目**

### 设置：

display:grid(块级垂直排列)/inline-grid(水平排列){默认只有一列}

#### 网格轨道

定义列：grid-template-columns:150px 200px 300px 三列

定义行：grid-template-row:100px 100px 100px 三行

单位：

​           1.%响应布局 

​           2.fr 类似flex:1 

​           3.auto 随内容变化

​           4.repeat(3,250px)/repeat(5,2fr)

​              **自动填充：适用响应式布局列数随宽度**

​              repeat(自动填充，轨道尺寸)

​                  auto-fill:  尽可能多地创建列。

​                  auto-fit：尽可能拉伸列填满容器（会合并空白，列宽不小于minmax的最小值）

![](img/auto.png)

​           5.minmax(min,max)定义最小最大(2px,2fr)

#### 对齐

justify-content：控制列轨道在容器水平分布

align-content:     控制行轨道在容器水平分布

attribute:start(默认) end(末尾) center（居中） space-around(中间等距离分开)

​                                   space-between(首尾贴边)              space-evenly沿行列等分

### 网格线

作用：实现盒子的跨行与跨列

行/列线数由     行/列数+1     从左到右从上往下

**设置在子元素身上**

实现：grid-column:1/3     从第一列到第二列（及从第一列线到第三列线）

​           grid-row:1/3     同理



​          grid-row:1/span 2     跨两个单元格与1/3同理



​          grid-column-start:1

​          grid-column-end:5     从第一列线到第五列线

### 网格填充

类似：flex-direction

grid-auto-flow:row     先行后列（默认）

grid-auto-flow:column     先列后行     



# 动画

## transform：

translate(水平，垂直)    若用%则表示相对于盒子自身移动

rotate(30deg)     顺时针旋转

**{可以用(transform-origin:top left     >>>    从左和上数意味着top=0%,left=0%)修改    旋转    缩放    倾斜等效果基点}**

scale(0.5,1.5)     水平，竖直缩放为原来的几倍

skew(30deg,50deg)      水平，垂直倾斜度数

matrix(a,b,c,d,e,f)     a,d控制缩放     b,c控制倾斜     e,f控制平移

## transition

作用：属于补间动画，须设置起始帧与关键帧，让过渡更自然

组成：transition：参与属性，持续时间，过渡类型，延迟播放时间

### transition-property

transition-property：none/all/property      

property：定义应用过渡效果的 CSS 属性名称列表，多个属性名称之间使用逗号`,`进行分隔。width,length

### transition-duration

transition-duration:0.5s,0.6s     规定多个属性的过渡时间

### transition-timing-function

- `ease` - 规定过渡效果，先缓慢地开始，然后加速，然后缓慢地结束（适合大部分效果）
- `linear` - 规定从开始到结束具有相同速度的过渡效果（适合机械感效果，如进度条）
- `ease-in` -规定缓慢开始的过渡效果（弹窗）
- `ease-out` - 规定缓慢结束的过渡效果（关闭动画）
- `ease-in-out` - 规定开始和结束较慢的过渡效果（对称性切换，如页面切换）
- `cubic-bezier(x1,y1,x2,y2)` - 允许您在三次贝塞尔函数中定义自己的值



### transition-delay

设置过渡效果何时开始

## animation

组成：animation:名字，持续时间，过渡类型，延迟时间，播放次数，方向

### animatiion-name

`animation-name`：指定一个或多个 @keyframes 的名称，描述了要应用于元素的动画。多个 @keyframes 以逗号分隔的名称列表的形式指定。

### animation-delay

`animation-delay`：指定执行动画之前的等待时间。动画可以稍后开始、立即从开头开始、立即在动画中途播放 **(如 `-1s`)**。其中 `-1s` 意思是动画立即从 1s 处开始。

### animation-iteration-count

`animation-iteration-count`：设置动画序列在停止前应播放的次数，有效值 `0`、正整数、正小数、无限循环 `infinite`

### animation-direction

`animation-iteration-count`：设置动画序列在停止前应播放的次数，有效值 `0`、正整数、正小数、无限循环 `infinite`

### animation-play-state

`animation-play-state`：设置动画是运行还是暂停，有效值 `running`、`paused`。

### animation-fill-mode

`animation-fill-mode`：设置 CSS 动画在执行之前和之后如何将样式应用于其目标，有效值如下：

- `none`：当动画未执行时，动画将不会将任何样式应用于目标，而是已经赋予给该元素的 CSS 规则来显示该元素。这是默认值
- `both`：动画将遵循 `forwards` 和 `backwards` 的规则，从而在两个方向上扩展动画属性
- `forwards`：目标将保留由执行期间遇到的最后一个关键帧计算值。最后关键帧取决于 `animation-direction` 和 `animation-iteration-count`：

| animation-direction | animation-iteration-count | last keyframe |
| ------------------- | ------------------------- | ------------- |
| normal              | even or odd               | 100%          |
| reverse             | even or odd               | 0%            |
| alternate           | even                      | 0%            |
| alternate           | odd                       | 100%          |
| alternate-reverse   | even                      | 100%          |
| alternate-reverse   | odd                       | 0%            |

+ `backwards`：动画将在应用于目标时立即应用第一个关键帧中定义的值，并在 `delay` 期间保留此值。第一个关键帧取决于 `animation-direction` 值：

| animation-direction          | first keyframe |
| ---------------------------- | -------------- |
| normal or alternate          | 0%             |
| reverse or alternate-reverse | 100%           |

### animation-timing-function

`animation-timing-function`：设置动画在每个周期的持续时间内如何进行，主要是如下两种函数：

#### cubic-bezier

- `cubic-bezier` 三次贝塞尔曲线 ( `cubic-bezier(<x1>, <y1>, <x2>, <y2>)` )，以实现 **补间动画** 效果。

1. **linear**：`cubic-bezier(0.0, 0.0, 1.0, 1.0)`
2. **ease**：`cubic-bezier(0.25, 0.1, 0.25, 1.0)`
3. **ease-in**：`cubic-bezier(0.42, 0.0, 1.0, 1.0)`
4. **ease-out**：`cubic-bezier(0.0, 0.0, 0.58, 1.0)`
5. **ease-in-out**：`cubic-bezier(0.42, 0.0, 0.58, 1.0)`            

#### steps

- `steps` 是一个分段的阶跃函数，，以实现 **逐帧动画**。n 相当于单次动画的帧数，每帧动画的时间是均等的 (`steps(n, <jumpterm>)`)，其中 `jumpterm (默认值 end)` 含义如下：

1. jump-start：在起始位置阶跃，`n=2 ⇒ 50% 100%; (100 / 2)`
2. jump-end：在结束位置阶跃, `n=4 ⇒ 0% 25% 50% 75%; (100 / 4)`
3. jump-none：起止位置均无跳跃，`n=5 ⇒ 0% 25% 50% 75% 100%; (100 / 4)`
4. jump-both：起止位置均有跳跃 `n=3 ⇒ 25% 50% 75%; (100 / 4)`
5. start：等同 jump-start
6. end：等同 jump-end
7. step-start：等同 steps(1, jump-start)
8. step-end：等同 steps(1, jump-end)

`steps` 函数动画示意图如下（输入为时间进度，输出为动画进度）

![img](https://pic3.zhimg.com/v2-2eb7672dd6089200e1dc04435d7e51a2_1440w.jpg)

![img](https://pic1.zhimg.com/v2-8c5bfa7c772c91910d9a117833395d8a_1440w.jpg)

### @keyframes

```text
@keyframes slidein {
    0% {
      margin-left: 100%;
      width: 300%;
    }
    100% {
      margin-left: 0%;
      width: 100%;
    }
  }
```

